---
title: NumPy 基础入门
date: 2026-01-01
category: MachineLearning/Basic/numpy
tags:
  - Python
  - NumPy
description: NumPy 基础入门教程，讲解核心概念、安装方法，通过与 Python 列表对比说明向量化操作和性能优势
image: https://img.yumeko.site/file/blog/NumpyLearning.jpg
status: public
---

# NumPy 基础入门

## 学习目标

- 了解什么是 NumPy 及其重要性
- 掌握 NumPy 的安装和导入方法
- 理解 NumPy 与 Python 列表的区别

## 什么是 NumPy

NumPy（Numerical Python）是 Python 科学计算的基础库，提供：

- 高性能的多维数组对象 `ndarray`
- 丰富的数学函数库
- 线性代数、傅里叶变换、随机数生成等功能
- 与 C/C++ 和 Fortran 代码集成的工具

### 为什么 NumPy 如此重要？

想象一下，你需要对 100 万个数字进行计算。使用 Python 列表，你需要写循环逐个处理，这会非常慢。而 NumPy 的数组可以一次性对所有元素进行操作（称为"向量化"），速度提升 10-100 倍。

**通俗理解**：如果 Python 列表像是一个个独立的盒子，每次操作只能打开一个盒子；那么 NumPy 数组就像是一个大型仓库，可以同时处理所有物品。

## 为什么学习 NumPy

| 优势             | 说明                                              |
| ---------------- | ------------------------------------------------- |
| **性能优势**     | 底层使用 C 语言实现，比纯 Python 快 10-100 倍     |
| **内存效率**     | 连续内存存储，支持向量化操作                      |
| **生态基础**     | Pandas、Scikit-learn、TensorFlow 等库都基于 NumPy |
| **科学计算标准** | 数据科学和机器学习的必备技能                      |

## 安装和导入

```python
# 安装（在命令行执行）
pip install numpy

# 导入（约定使用 np 别名）
import numpy as np

# 查看版本
print(np.__version__)
```

**为什么用 `np` 别名？** 这是社区约定俗成的写法，几乎所有 NumPy 教程和代码都这样写。使用别名可以让代码更简洁，`np.array()` 比 `numpy.array()` 更方便输入。

**运行结果示例**：

```
1.24.0
```

版本号可能不同，只要是 1.x 版本就可以正常使用本教程的所有代码。

## NumPy 数组 vs Python 列表

| 特性         | NumPy 数组               | Python 列表            |
| ------------ | ------------------------ | ---------------------- |
| **数据类型** | 同质（所有元素类型相同） | 异质（可包含不同类型） |
| **内存**     | 连续存储，效率高         | 分散存储，效率低       |
| **运算**     | 支持向量化运算           | 需要循环遍历           |
| **速度**     | 快（C 实现）             | 慢（Python 实现）      |

### 运算行为对比

这是 NumPy 和 Python 列表最重要的区别之一：

```python
# Python 列表
py_list = [1, 2, 3, 4, 5]
result = py_list * 2
print(result)
```

**结果**：`[1, 2, 3, 4, 5, 1, 2, 3, 4, 5]`

**原理**：Python 列表的 `*` 运算符表示"重复"，所以 `列表 * 2` 会把列表复制两遍拼接在一起。

```python
# NumPy 数组
np_array = np.array([1, 2, 3, 4, 5])
result = np_array * 2
print(result)
```

**结果**：`[2, 4, 6, 8, 10]`

**原理**：NumPy 数组的 `*` 运算符表示"元素级乘法"，会把每个元素都乘以 2。这就是"向量化操作"的体现——一行代码完成对所有元素的计算，无需循环。

### 加法行为对比

```python
# Python 列表加法 = 拼接
[1, 2, 3] + [4, 5, 6]  # 结果: [1, 2, 3, 4, 5, 6]

# NumPy 数组加法 = 元素相加
np.array([1, 2, 3]) + np.array([4, 5, 6])  # 结果: [5, 7, 9]
```

## 重要概念

| 概念           | 说明                                          |
| -------------- | --------------------------------------------- |
| **ndarray**    | NumPy 的多维数组对象，是 NumPy 的核心数据结构 |
| **向量化操作** | 对整个数组进行操作，无需显式循环              |
| **广播**       | 不同形状数组之间的运算规则                    |

### ndarray 是什么？

`ndarray` 是 "N-dimensional array" 的缩写，意思是"N维数组"。

- 1 维数组：`[1, 2, 3, 4, 5]` — 像一条直线上的点
- 2 维数组：`[[1,2,3], [4,5,6]]` — 像一个表格（行和列）
- 3 维数组：可以想象成多个表格叠在一起

### 向量化操作的优势

**传统 Python 写法**（慢）：

```python
result = []
for i in range(len(py_list)):
    result.append(py_list[i] * 2)
```

**NumPy 向量化写法**（快）：

```python
result = np_array * 2
```

两种写法结果相同，但 NumPy 的写法不仅代码更简洁，执行速度也快得多。

## 常用配置函数

```python
# 设置打印选项
np.set_printoptions(precision=4, suppress=True)
```

**参数说明**：

- `precision=4`：浮点数只显示 4 位小数
- `suppress=True`：禁用科学计数法显示

**使用场景**：当你看到 `1.23456789e-05` 这样的科学计数法觉得不直观时，可以设置 `suppress=True` 让它显示为 `0.0000`。

```python
# 查看当前打印设置
print(np.get_printoptions())
```

**结果**：返回一个字典，包含所有当前的打印设置项。

## 小结

1. **NumPy 是什么**：Python 科学计算的核心库，提供高效的多维数组
2. **为什么用它**：比 Python 列表快 10-100 倍，是数据科学的基础
3. **核心区别**：NumPy 数组的运算是"元素级"的，Python 列表的运算是"整体操作"
4. **关键概念**：ndarray、向量化、广播

## 练习

运行代码文件查看完整演示：

```bash
python Basic/Numpy/01_basics.py
```

**练习题**：

1. 创建一个包含 1-10 的 NumPy 数组，然后将所有元素加 100
2. 比较 `np.array([1,2,3]) + 10` 和 `[1,2,3] + [10]` 的结果，理解它们的区别
